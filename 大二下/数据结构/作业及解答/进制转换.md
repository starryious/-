# 进制转换(栈)

> 使用语言: C(C99)

以下是全部代码, 在 CLion 中编译运行成功.


```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define STACK_SIZE 50

// 定义栈结构体
typedef struct {
    int top;
    int data[STACK_SIZE];
} Stack;

// 初始化栈
void initStack(Stack *s) {
    s->top = -1;
}

// 判断栈是否为空
int isStackEmpty(Stack *s) {
    return (s->top == -1);
}

// 判断栈是否已满
int isStackFull(Stack *s) {
    return (s->top == STACK_SIZE - 1);
}

// 入栈操作
void push(Stack *s, int x) {
    if (isStackFull(s)) {
        printf("Stack is full.\n");
        exit(1);
    }
    s->data[++s->top] = x;
}

// 出栈操作
int pop(Stack *s) {
    if (isStackEmpty(s)) {
        printf("Stack is empty.\n");
        exit(1);
    }
    return s->data[s->top--];
}

// 进制转换函数
void convert(int num, int base) {
    Stack s;
    initStack(&s);

    while (num != 0) {
        int remainder = num % base;
        push(&s, remainder);
        num = num / base;
    }

    printf("Result: ");
    while (!isStackEmpty(&s)) {
        int digit = pop(&s);
        if (digit < 10) {
            printf("%d", digit);
        } else {
            printf("%c", digit - 10 + 'A');
        }
    }
}

int main() {
    int num, base;
    printf("Please enter the number to be converted: ");
    scanf("%d", &num);
    printf("Please enter the target base: ");
    scanf("%d", &base);
    convert(num, base);
    printf("\n");
    return 0;
}
```